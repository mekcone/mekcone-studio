<project>
    <name>e-school</name>
    <version>0.1.0</version>

    <deployment>
        <env profile="test">
            <middleware>
                <mysql name="mysql_default" host="localhost" port="3306" database="excode"
                    username="root" password="123456" />
                <redis name="redis_default" host="beta.vancone.com" port="6380" database="0"
                    password="123456" />
            </middleware>
        </env>
        <env profile="pro">
            <middleware>
                <mysql name="mysql_default" host="10.10.10.1" port="3306" database="excode"
                    username="root" password="123456" />
            </middleware>
        </env>
    </deployment>

    <enums>
        <enum name="gender">
            <option name="MALE" />
            <option name="FEMALE" />
        </enum>
    </enums>

    <models>
        <model name="student" source="mysql_default" tablePrefix="eschool_" logicDelete="true">
            <fields>
                <field name="id" type="number" dbType="BIGINT" primary="true" autoIncrement="true"
                    comment="Student ID" />
                <field name="name" type="string" dbType="VARCHAR" notNull="true" />
                <field name="gender" type="enum:gender" dbType="TINYINT" />
                <field name="birthday" type="date" dbType="DATETIME" />
            </fields>
            <mappings>
                <mapping type="many2many" model="teacher" />
            </mappings>
        </model>
        <model name="teacher" source="ds" tablePrefix="eschool_">
            <fields>
                <field name="id" type="number" dbType="BIGINT" primary="true" autoIncrement="true"
                    comment="Teacher ID" />
                <field name="name" type="string" dbType="VARCHAR" notNull="true" />
                <field name="gender" type="enum:gender" dbType="TINYINT" />
                <field name="title" type="string" dbType="VARCHAR" />
            </fields>
        </model>
        <model name="course" source="ds" tablePrefix="eschool_">
            <fields>
                <field name="id" type="number" dbType="BIGINT" primary="true" autoIncrement="true"
                    comment="Course ID" />
                <field name="name" type="string" dbType="VARCHAR" notNull="true" />
            </fields>
        </model>
    </models>

    <templates>
        <template name="spring-boot-mybatis" external="true" enabled="true">
            <plugins>
                <plugin name="lombok" enabled="true" />
                <plugin name="vancone-passport-sdk" enabled="true" />
                <plugin name="swagger" enabled="true" />
            </plugins>

            <properties>
                <property name="project.groupId" value="com.vancone" />
                <property name="project.artifactId" value="eschool" />
                <property name="spring.application.name" value="e-school" />
                <property name="server.port" value="8080" />
                <property name="cross-origin.allowed-methods" value="*" />
                <property name="cross-origin.allowed-headers" value="*" />
                <property name="passport.service-account.access-key-id"
                    value="J8RO0L4VWdgpkNoO9lWYJJDpARtRxIOb" />
                <property name="passport.service-account.secret-access-key"
                    value="gkKydrpGsma2QzdiWLO64gPlgfoANHjV4cC7uz2As5BfDEON3hswC0YdnjAT9pWO" />
                <property name="swagger.title" value="eSchool API Doc" />
                <property name="swagger.description" value="Generated by ExCode" />
            </properties>
        </template>

        <template name="vue3-element-vite-console" external="true" enabled="true">
            <properties>
                <property name="apiPath" value="/api/eschool"></property>
            </properties>
        </template>
    </templates>
</project>